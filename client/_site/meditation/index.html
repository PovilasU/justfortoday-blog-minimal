<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Meditacija</title>

        <!-- SEO Meta Tags -->
        <meta name="description" content="Just for Today - A minimalist daily reflection and gratitude site."/>
        <meta name="author" content="Your Name or Project"/>

        <!-- Favicon -->
        <link rel="icon" href="/favicon.ico" type="image/x-icon"/>
        <link rel="apple-touch-icon" href="/apple-touch-icon.png"/>

        <!-- Styles -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css">
        <link rel="stylesheet" href="/css/style.css"/>
     
    </head>
    <body>

        <header>
     
          <nav>
            <div class="logo"><a href="/">ğŸ•Šï¸ TikÅ iandien </a></div>
            <button id="nav-toggle" aria-label="Open navigation">â˜°</button>
            <div id="nav-menu">
              <button id="nav-close" aria-label="Close navigation">âœ•</button>

              <!-- Core / Intro -->
              <a href="/about/">Apie</a>
              <a href="/help/">Pagalba</a>

              <!-- Daily Practice -->
              <a href="/reflection/">SavianalizÄ—</a>
              <a href="/gratitude/">DÄ—kingumas</a>
              <a href="/todo/">UÅ¾duotys</a>
              <a href="/meditation/">Meditacija</a>
              <a href="/beforesleep/">Vakaro perÅ¾valga</a>

              <!-- Media -->
              <a href="/media/">Medijos</a>

              <!-- User Auth -->
              <a href="/login/">Prisijungti</a>
               <!-- <a href="/signup/">Registracija</a> -->   
            </div>
          </nav>

                 <h1>Meditacija</h1>


        </header>

        <main>
            <style>
  .timer-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5em;
    margin-bottom: 1em;
  }
  .timer-buttons button {
    flex: 1 1 80px;
    min-width: 80px;
    padding: 0.5em 1em;
    font-size: 1em;
    cursor: pointer;
  }
  .controls {
    margin-top: 1em;
    display: flex;
    gap: 1em;
  }
  .timer-display {
    margin-top: 1em;
    font-size: 1.2em;
    font-weight: bold;
  }
</style>
<p>
  Sveiki atvykÄ™ Ä¯ savo meditacijos erdvÄ™. Pasirinkite laikmatÄ¯ ir pradÄ—kite
  sesijÄ….
</p>
<section>
  <h2>Apie meditacijÄ…</h2>
  <p>
    Meditacija yra praktika, padedanti sutelkti mintis, nuraminti protÄ… ir
    susijungti su dabartimi. Reguliari meditacija gali sumaÅ¾inti stresÄ…,
    pagerinti emocinÄ™ savijautÄ… ir padidinti savÄ™s paÅ¾inimÄ…. Nesvarbu, ar
    esate pradedantysis, ar jau metÅ³ metus praktikuojate, keliÅ³ minuÄiÅ³
    kasdienÄ— tyla ir gilus kvÄ—pavimas atneÅ¡a aiÅ¡kumo ir ramybÄ—s Ä¯ jÅ«sÅ³
    gyvenimÄ….
  </p>
  <p>
    Medituoti galima Ä¯vairiai â€“ nuo vedamÅ³ kvÄ—pavimo pratimÅ³ iki minties
    stebÄ—jimo be vertinimo. Svarbiausia rasti patogiÄ… pozicijÄ…,
    atsipalaiduoti ir bÅ«ti Äia bei dabar. Atminkite, meditacija nÄ—ra minties
    sustabdymas, o jÅ³ pastebÄ—jimas ir Å¡velnus dÄ—mesio sugrÄ…Å¾inimas Ä¯
    kvÄ—pavimÄ… ar pasirinktÄ… taÅ¡kÄ….
  </p>
</section>
<section>
  <div class="timer-buttons">
    <button data-min="1">1 min</button>
    <button data-min="3">3 min</button>
    <button data-min="5">5 min</button>
    <button data-min="10">10 min</button>
    <button data-min="15">15 min</button>
    <button data-min="20">20 min</button>
    <button data-min="30">30 min</button>
    <button data-min="45">45 min</button>
    <button data-min="60">60 min</button>
  </div>
  <div class="controls">
    <button id="stop-btn">Stabdyti</button>
    <button id="mute-btn">IÅ¡jungti garsÄ…</button>
  </div>
  <div class="timer-display" id="timer-display"></div>
  <audio id="meditation-audio" preload="none">
    <source
      src="https://nextjs-tiksiandien.netlify.app/Indian_Flute_Meditation_Music.mp3"
      type="audio/mpeg"
    />
    JÅ«sÅ³ narÅ¡yklÄ— nepalaiko audio elemento.
  </audio>
  <audio id="timer-sound" preload="auto">
    <source
      src="https://cdn.pixabay.com/audio/2022/07/26/audio_124bfae3c3.mp3"
      type="audio/mpeg"
    />
  </audio>
</section>
<script>
  const audio = document.getElementById("meditation-audio");
  const timerSound = document.getElementById("timer-sound");
  const timerDisplay = document.getElementById("timer-display");
  const stopBtn = document.getElementById("stop-btn");
  const muteBtn = document.getElementById("mute-btn");
  let timer = null;
  let remaining = 0;
  let muted = false;

  function formatTime(sec) {
    const m = Math.floor(sec / 60);
    const s = sec % 60;
    return `${m}:${s.toString().padStart(2, "0")}`;
  }

  function startTimer(minutes) {
    clearInterval(timer);
    audio.pause();
    audio.currentTime = 0;
    audio.muted = muted;
    audio.load();
    audio.play();
    remaining = minutes * 60;
    timerDisplay.textContent = `Liko laiko: ${formatTime(remaining)}`;
    timer = setInterval(() => {
      remaining--;
      timerDisplay.textContent = `Liko laiko: ${formatTime(remaining)}`;
      if (remaining <= 0) {
        clearInterval(timer);
        audio.pause();
        audio.currentTime = 0;
        timerDisplay.textContent = "Sesija baigta!";
        timerSound.play();
      }
    }, 1000);
  }

  function stopAll() {
    clearInterval(timer);
    audio.pause();
    audio.currentTime = 0;
    timerDisplay.textContent = "";
  }

  function muteAll() {
    muted = !muted;
    audio.muted = muted;
    muteBtn.textContent = muted ? "Ä®jungti garsÄ…" : "IÅ¡jungti garsÄ…";
  }

  document.querySelectorAll(".timer-buttons button").forEach((btn) => {
    btn.addEventListener("click", () => {
      startTimer(Number(btn.dataset.min));
    });
  });

  stopBtn.addEventListener("click", stopAll);
  muteBtn.addEventListener("click", muteAll);
</script>

        </main>

        <footer>
       <p>&copy; <script>document.write(new Date().getFullYear())</script> TikÅ iandien</p>

        </footer>

    </body>
    <script>
         const toggle = document.getElementById("nav-toggle");
    const closeBtn = document.getElementById("nav-close");
    const menu = document.getElementById("nav-menu");

    toggle.addEventListener("click", () => {
      if (menu.style.display === "flex") {
        menu.style.display = "none";
      } else {
        menu.style.display = "flex";
      }
    });

    closeBtn.addEventListener("click", () => {
      menu.style.display = "none";
    });

    document.querySelectorAll('#nav-menu a').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth < 600) {
          menu.style.display = 'none';
        }
      });
    });
    </script>
</html>